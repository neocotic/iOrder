// [date.js](http://neocotic.com/date.js) 1.0.0
// (c) 2011 Alasdair Mercer
// Freely distributable under the MIT license.
// For all details and documentation:
// http://neocotic.com/date.js
(function(){function l(a,b){var c=a.getTimezoneOffset(),d=String(k(Math.floor(Math.abs(c)/60)*100+Math.abs(c)%60,4));if(b)d=d.slice(0,2)+b+d.slice(2);return(c>0?"-":"+")+d}function k(a,b){b=b||2;a=String(a);while(a.length<b)a="0"+a;return a}function j(a){var b=(a.getUTCHours()+1)%24+a.getUTCMinutes()/60+a.getUTCSeconds()/(60*60);return Math.floor(b*1e3/24)}function i(a){var b=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate())),c=b.getUTCDay();b.setUTCDate(b.getUTCDate()-(c+6)%7+3);var d=b.getTime();b.setUTCMonth(0,4);var e=Math.round((d-b)/(7*1e3*60*60*24))+1;return[b.getUTCFullYear(),e,c||7]}function h(m,n,o){if(typeof n!=="string")n=c;if(!o){var p=i(m),q=m.getDate(),r=m.getDay(),s=m.getMonth(),t=m.getFullYear(),u=m.getHours(),v=m.toString().match(g);o={d:k(q),D:a[r],j:q,l:a[r+7],N:r||7,S:e[q%10>3?0:(q%100-q%10!==10)*q%10],w:r,z:m.getDayOfYear(),W:p[1],F:d[s+12],m:k(s+1),M:d[s],n:s+1,t:m.getDaysInMonth(),L:m.isLeapYear()?1:0,o:p[0],Y:t,y:String(t).slice(2),a:u<12?"am":"pm",A:u<12?"AM":"PM",B:j(m),g:u%12||12,G:u,h:k(u%12||12),H:k(u),i:k(m.getMinutes()),s:k(m.getSeconds()),u:k(m.getMilliseconds()*1e3,6),e:v?v[0]:"",I:m.isDaylightSavingTime()?1:0,O:l(m),P:l(m,":"),T:v?v[0]:"",Z:m.getTimezoneOffset()*-60,c:"",r:"",U:Math.round(m.getTime()/1e3)};o.c=h(m,b,o);o.r=h(m,c,o)}return n.replace(f,function(a){if(a==="\\")return a;if(a.indexOf("\\")===0)return a.substr(1);return o[a]})}var a=["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b="Y-m-d\\TH:i:sP",c="D, j M Y H:i:s O",d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],e=["th","st","nd","rd"],f=/\\?[\\dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,g=/([A-Z]+)(?=[\-\+]\d{4})/g;Date.prototype.clear=function(){this.clearDate();this.clearTime();return this};Date.prototype.clearDate=function(){this.setFullYear(0,0,1);return this};Date.prototype.clearTime=function(){this.setHours(0,0,0,0);return this};Date.prototype.format=function(a){return h(this,a)};Date.prototype.getDayOfYear=function(){var a=new Date(this.getFullYear(),0,1);return Math.ceil((this-a)/1e3/60/60/24)-1};Date.prototype.getDaysInMonth=function(){return(new Date(this.getFullYear(),this.getMonth()+1,0)).getDate()};Date.prototype.getWeekOfYear=function(){return i(this)[1]};Date.prototype.getYearOfWeek=function(){return i(this)[0]};Date.prototype.isDaylightSavingTime=function(){var a=new Date(this);a.setMonth(0,1);return a.getTimezoneOffset()!==this.getTimezoneOffset()};Date.prototype.isLeapYear=function(){return(new Date(this.getFullYear(),1,29)).getMonth()===1}})()